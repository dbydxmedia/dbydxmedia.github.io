<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Market Dashboard - Sep 2, 2025</title>
    <!-- Chosen Palette: Market Neutral (Custom adaptation with blues, greens, and reds for finance) -->
    <!-- Application Structure Plan: A top-down dashboard structure was chosen for optimal user flow. It starts with a high-level summary of the previous day ("What Happened"), moves to the core interactive section detailing the outlook for the current day ("What Might Happen"), and concludes with the underlying sentiment drivers ("Why"). This logical progression allows users, like traders or investors, to quickly grasp the market state and then dive into actionable insights. The main interaction is switching between indices (Nifty, Sensex, Bank Nifty) in the outlook section, which dynamically updates a custom-built "Trading Levels" visual and associated text, providing a clear, focused view for decision-making. -->
    <!-- Visualization & Content Choices: 
        - Market Summary: Goal: Inform. Method: HTML/CSS KPI Cards. Interaction: None. Justification: Quickly conveys key performance metrics at a glance, standard for dashboards. Library: N/A.
        - Market Breadth: Goal: Compare proportion. Method: Donut Chart. Interaction: Hover Tooltip. Justification: Best for showing simple part-to-whole relationships like advancing vs. declining stocks. Library: Chart.js (Canvas).
        - Index Key Levels: Goal: Organize & Inform. Method: Custom Interactive Diagram (HTML/CSS). Interaction: Click buttons to switch index data. Justification: A custom diagram provides a clearer, more intuitive "trading map" than a generic bar chart, allowing for precise labeling of support, resistance, and no-trade zones. Library: Vanilla JS for interaction.
        - Market Sentiment: Goal: Inform. Method: HTML/CSS Icon Cards. Interaction: None. Justification: Visually breaks down qualitative drivers into easily digestible points. Library: N/A.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f1f5f9;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 250px;
            max-height: 300px;
        }
        .kpi-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .kpi-value {
            font-size: 2.25rem;
            font-weight: 800;
            line-height: 1;
        }
        .kpi-label {
            font-size: 1rem;
            font-weight: 600;
            color: #475569;
        }
        .kpi-change {
            font-size: 1.125rem;
            font-weight: 700;
        }
        .positive { color: #16a34a; }
        .negative { color: #dc2626; }
        .nav-btn {
            padding: 0.5rem 1.5rem;
            border-radius: 9999px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            background-color: #e2e8f0;
            color: #334155;
        }
        .nav-btn.active {
            background-color: #0f172a;
            color: white;
        }
    </style>
</head>
<body class="text-slate-800">

    <header class="bg-white sticky top-0 z-10 shadow-md">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <div>
                <h1 class="text-2xl md:text-3xl font-extrabold text-slate-900">Indian Market Dashboard</h1>
                <p class="text-sm md:text-base text-slate-500">Analysis for September 2, 2025</p>
            </div>
            <div class="text-right">
                <p class="text-lg font-bold text-green-600">MARKET OPEN</p>
                <p class="text-xs text-slate-400">Tuesday, 9:15 AM IST</p>
            </div>
        </div>
    </header>

    <main class="container mx-auto p-4 sm:p-6 lg:p-8">

        <section id="recap" class="mb-12">
            <h2 class="text-2xl font-bold mb-6 text-slate-900">Yesterday's Close: September 1, 2025</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                <div class="kpi-card">
                    <p class="kpi-label">Sensex</p>
                    <p class="kpi-value text-slate-800">80,364.49</p>
                    <p class="kpi-change positive">+554.84 (+0.70%)</p>
                </div>
                <div class="kpi-card">
                    <p class="kpi-label">Nifty 50</p>
                    <p class="kpi-value text-slate-800">24,625.05</p>
                    <p class="kpi-change positive">+198.20 (+0.81%)</p>
                </div>
                <div class="kpi-card md:col-span-2 lg:col-span-1">
                    <p class="kpi-label">Bank Nifty</p>
                    <p class="kpi-value text-slate-800">54,002.45</p>
                    <p class="kpi-change positive">+346.80 (+0.65%)</p>
                </div>
            </div>
             <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="lg:col-span-2 bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold text-center mb-4">Market Internals</h3>
                     <div class="flex flex-col md:flex-row items-center gap-6">
                        <div class="w-full md:w-1/2">
                            <div class="chart-container">
                                <canvas id="marketBreadthChart"></canvas>
                            </div>
                        </div>
                        <div class="w-full md:w-1/2 text-center md:text-left">
                            <h4 class="font-bold text-lg">Broad-Based Rally</h4>
                            <p class="text-slate-600 mt-2">The session showed strong market breadth with advancing shares more than doubling the decliners, indicating widespread positive sentiment. This strength was primarily driven by a robust <strong class="text-slate-900">7.8% Q1 GDP growth</strong>, which boosted investor confidence across sectors, especially in financial services and capital goods.</p>
                        </div>
                    </div>
                </div>
                 <div class="bg-white p-6 rounded-lg shadow-md flex flex-col justify-center items-center text-center">
                     <span class="text-5xl mb-2">üöÄ</span>
                    <h3 class="text-xl font-bold">Primary Catalyst</h3>
                     <p class="text-6xl font-extrabold text-blue-600 my-2">7.8%</p>
                     <p class="font-semibold text-slate-700">Q1FY26 GDP Growth</p>
                </div>
            </div>
        </section>
        
        <section id="outlook" class="mb-12 bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-2xl font-bold text-center mb-2 text-slate-900">Today's Interactive Outlook</h2>
            <p class="text-center text-slate-500 mb-6">Select an index to view its key trading levels and strategic zones for September 2nd.</p>
            <div id="outlook-nav" class="flex justify-center items-center gap-2 mb-8">
                <button class="nav-btn active" data-index="nifty">Nifty 50</button>
                <button class="nav-btn" data-index="banknifty">Bank Nifty</button>
                <button class="nav-btn" data-index="sensex">Sensex</button>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                 <div id="levels-visual-container" class="relative w-full h-96 bg-slate-50 rounded-lg p-4">
                     <!-- This will be populated by JS -->
                 </div>
                 <div id="levels-text-container" class="space-y-4">
                     <!-- This will be populated by JS -->
                 </div>
            </div>
        </section>

        <section id="sentiment">
            <h2 class="text-2xl font-bold mb-6 text-slate-900">Core Sentiment Drivers</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-lg shadow-md text-center">
                    <span class="text-4xl">‚úçÔ∏è</span>
                    <h3 class="text-lg font-bold mt-2 mb-1">Confident Put Writers</h3>
                    <p class="text-sm text-slate-600">Options chain analysis shows strong support at lower levels, suggesting a positive bias and limited downside risk perception among derivative traders.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md text-center">
                    <span class="text-4xl">üõçÔ∏è</span>
                    <h3 class="text-lg font-bold mt-2 mb-1">Positive Domestic Triggers</h3>
                    <p class="text-sm text-slate-600">Anticipation of potential GST cuts on key consumer goods (cars, electronics) and cement is fueling optimism for specific sectors.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md text-center">
                    <span class="text-4xl">üåç</span>
                    <h3 class="text-lg font-bold mt-2 mb-1">Reduced Global Risk</h4>
                    <p class="text-sm text-slate-600">With US markets closed for a holiday, the risk of negative global cues affecting the domestic market sentiment is significantly lower.</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center py-6 mt-12 bg-slate-800 text-slate-300">
        <p class="text-sm">This dashboard is for informational purposes only. Not financial advice.</p>
        <p class="text-xs text-slate-400 mt-1">Data from Sep 1, 2025. Outlook for Sep 2, 2025.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const outlookData = {
                nifty: {
                    name: 'Nifty 50',
                    levels: [
                        { type: 'resistance', value: 24830, label: 'Resistance 2' },
                        { type: 'resistance', value: 24800, label: 'Resistance 1' },
                        { type: 'bullish', value: 24710, label: 'Bullish Trigger' },
                        { type: 'current', value: 24625.05 },
                        { type: 'bearish', value: 24490, label: 'Bearish Trigger' },
                        { type: 'support', value: 24500, label: 'Key Support' },
                        { type: 'support', value: 24400, label: 'Target Support' },
                    ],
                    analysis: {
                        bullish: { title: 'Bullish Scenario', text: 'A sustained move with a 15-min candle close above <strong>24,710</strong> is needed. This could trigger an upward rally towards resistance levels at <strong>24,800</strong> and <strong>24,830</strong>.' },
                        neutral: { title: 'No-Trade Zone', text: 'The range between <strong>24,490</strong> and <strong>24,710</strong> is considered high-risk and choppy. It is advisable to wait for a clear breakout or breakdown before entering new positions.' },
                        bearish: { title: 'Bearish Scenario', text: 'A confirmed breakdown below <strong>24,490</strong> could initiate a sell-off. The immediate target would be the crucial psychological support at <strong>24,500</strong>, followed by <strong>24,400</strong>.' },
                    }
                },
                banknifty: {
                    name: 'Bank Nifty',
                    levels: [
                        { type: 'resistance', value: 54600, label: 'Resistance 2' },
                        { type: 'resistance', value: 54350, label: 'Resistance 1' },
                        { type: 'bullish', value: 54050, label: 'Bullish Trigger' },
                        { type: 'current', value: 54002.45 },
                        { type: 'bearish', value: 53700, label: 'Bearish Trigger' },
                        { type: 'support', value: 53600, label: 'Key Support' },
                    ],
                    analysis: {
                        bullish: { title: 'Bullish Scenario', text: 'A breakout above <strong>54,050</strong> could spark a 150+ point rally, targeting resistance levels at <strong>54,350</strong> and potentially <strong>54,600</strong>.' },
                        neutral: { title: 'Consolidation Zone', text: 'The index is currently consolidating between <strong>53,700</strong> and <strong>54,050</strong>. Trading within this range carries higher risk due to lack of clear direction.' },
                        bearish: { title: 'Bearish Scenario', text: 'A firm break below <strong>53,700</strong> is required for a bearish move. The next significant support level to watch would be around <strong>53,600</strong>.' },
                    }
                },
                sensex: {
                    name: 'Sensex',
                    levels: [
                        { type: 'resistance', value: 81200, label: 'Target High' },
                        { type: 'resistance', value: 81000, label: 'Resistance 2' },
                        { type: 'bullish', value: 80450, label: 'Bullish Trigger' },
                        { type: 'current', value: 80364.49 },
                        { type: 'bearish', value: 80250, label: 'Bearish Trigger' },
                        { type: 'support', value: 80100, label: 'Support 1' },
                        { type: 'support', value: 79750, label: 'Support 2' },
                        { type: 'support', value: 79500, label: 'Key Support' },
                    ],
                    analysis: {
                        bullish: { title: 'Bullish Scenario', text: 'A decisive close above the key resistance of <strong>80,450</strong> could pave the way for a significant upward swing towards <strong>81,000</strong> and then <strong>81,200</strong>.' },
                        neutral: { title: 'Observation Zone', text: 'The area just below <strong>80,450</strong> is critical. It is prudent to wait for a confirmed breakout, as false moves are possible near strong resistance.' },
                        bearish: { title: 'Bearish Scenario', text: 'If the index fails to break resistance and falls, the first line of defense is at <strong>80,100</strong>. Further weakness could test supports at <strong>79,750</strong> and <strong>79,500</strong>.' },
                    }
                }
            };

            const visualContainer = document.getElementById('levels-visual-container');
            const textContainer = document.getElementById('levels-text-container');
            const navButtons = document.querySelectorAll('.nav-btn');

            function updateOutlook(indexKey) {
                const data = outlookData[indexKey];
                
                // Update buttons
                navButtons.forEach(btn => {
                    btn.classList.remove('active');
                    if(btn.dataset.index === indexKey) {
                        btn.classList.add('active');
                    }
                });

                // Update Visuals
                const allValues = data.levels.map(l => l.value);
                const min = Math.min(...allValues);
                const max = Math.max(...allValues);
                const range = max - min;

                let visualHTML = `<h3 class="text-xl font-bold text-center mb-4">${data.name} Levels</h3>`;
                data.levels.forEach(level => {
                    const topPosition = 10 + 80 * (1 - (level.value - min) / range);
                    let colorClass = 'bg-slate-400';
                    let textClass = 'text-slate-600';
                    let styles = `top: ${topPosition}%;`;

                    if (level.type === 'bullish') { colorClass = 'bg-green-500'; textClass = 'text-green-700 font-bold'; }
                    if (level.type === 'bearish') { colorClass = 'bg-red-500'; textClass = 'text-red-700 font-bold'; }
                    if (level.type === 'resistance') { colorClass = 'bg-orange-400'; textClass = 'text-orange-600'; }
                    if (level.type === 'support') { colorClass = 'bg-blue-400'; textClass = 'text-blue-600'; }

                    if(level.type === 'current') {
                        visualHTML += `
                            <div class="absolute w-full flex items-center" style="${styles}">
                                <div class="flex-grow border-t-2 border-dashed border-slate-900"></div>
                                <span class="mx-2 px-2 py-1 text-sm font-bold bg-slate-900 text-white rounded-md">${level.value.toFixed(2)}</span>
                                <div class="flex-grow border-t-2 border-dashed border-slate-900"></div>
                            </div>
                        `;
                    } else {
                         visualHTML += `
                            <div class="absolute w-full flex items-center" style="${styles}">
                                <div class="flex-grow border-t border-dashed ${colorClass.replace('bg-', 'border-')}"></div>
                                <div class="text-xs text-right mx-2 ${textClass} whitespace-nowrap">${level.label} <br> ${level.value}</div>
                            </div>
                        `;
                    }
                });
                
                // Add zone indicators
                const bullishTop = 10 + 80 * (1 - (data.levels.find(l=>l.type==='bullish').value - min) / range);
                const bearishTop = 10 + 80 * (1 - (data.levels.find(l=>l.type==='bearish').value - min) / range);
                
                if (data.analysis.neutral.title.includes('No-Trade') || data.analysis.neutral.title.includes('Consolidation')) {
                    visualHTML += `<div class="absolute left-0 w-2 h-[${bearishTop - bullishTop}%]" style="top: ${bullishTop}%; background: repeating-linear-gradient(45deg, #fcd34d, #fcd34d 10px, #fef9c3 10px, #fef9c3 20px);"></div>`;
                }


                visualContainer.innerHTML = visualHTML;

                // Update Text
                textContainer.innerHTML = `
                    <div class="p-4 bg-green-50 border-l-4 border-green-500 rounded-r-lg">
                        <h4 class="font-bold text-green-800">${data.analysis.bullish.title}</h4>
                        <p class="text-sm text-slate-700 mt-1">${data.analysis.bullish.text}</p>
                    </div>
                    <div class="p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-r-lg">
                        <h4 class="font-bold text-yellow-800">${data.analysis.neutral.title}</h4>
                        <p class="text-sm text-slate-700 mt-1">${data.analysis.neutral.text}</p>
                    </div>
                     <div class="p-4 bg-red-50 border-l-4 border-red-500 rounded-r-lg">
                        <h4 class="font-bold text-red-800">${data.analysis.bearish.title}</h4>
                        <p class="text-sm text-slate-700 mt-1">${data.analysis.bearish.text}</p>
                    </div>
                `;
            }

            // Initial Load
            updateOutlook('nifty');
            
            // Event Listeners
            navButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    updateOutlook(btn.dataset.index);
                });
            });

            // Chart.js
            const marketBreadthCtx = document.getElementById('marketBreadthChart').getContext('2d');
            new Chart(marketBreadthCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Advancing', 'Declining'],
                    datasets: [{
                        data: [2681, 1320],
                        backgroundColor: ['#16a34a', '#dc2626'],
                        borderColor: '#ffffff',
                        borderWidth: 4,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                title: (tooltipItems) => tooltipItems[0].label,
                                label: (context) => `${context.formattedValue} Shares`
                            }
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>
